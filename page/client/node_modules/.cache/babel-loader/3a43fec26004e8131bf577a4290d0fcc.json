{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _defineProperty from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Ryan\\\\Documents\\\\GitHub\\\\PaperHands\\\\page\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useContext,useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import UserContext from\"../../context/UserContext\";import styles from\"./PageTemplate.module.css\";import clsx from\"clsx\";import{Drawer,CssBaseline,AppBar,Toolbar,List,Typography,Divider,IconButton}from\"@material-ui/core\";import MenuIcon from\"@material-ui/icons/Menu\";import ChevronLeftIcon from\"@material-ui/icons/ChevronLeft\";import Navbar from\"../Template/Navbar\";import SecondNavbar from\"../Template/SecondNavbar\";import Dashboard from\"../Dashboard/Dashboard\";import News from\"../News/News\";import Search from\"../Search/Search\";import SettingsModal from\"./SettingsModal\";import Axios from\"axios\";import{makeStyles}from\"@material-ui/core/styles\";import config from\"../../config/Config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var drawerWidth=240;var useStyles=makeStyles(function(theme){return{appBarSpacer:theme.mixins.toolbar,appBar:{zIndex:theme.zIndex.drawer+1,transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},appBarShift:{marginLeft:drawerWidth,width:\"calc(100% - \".concat(drawerWidth,\"px)\"),transition:theme.transitions.create([\"width\",\"margin\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaper:{position:\"relative\",whiteSpace:\"nowrap\",width:drawerWidth,transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.enteringScreen})},drawerPaperClose:_defineProperty({overflowX:\"hidden\",transition:theme.transitions.create(\"width\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),width:theme.spacing(7)},theme.breakpoints.up(\"sm\"),{width:theme.spacing(9)})};});var PageTemplate=function PageTemplate(){var navigate=useNavigate();var classes=useStyles();var _useContext=useContext(UserContext),userData=_useContext.userData,setUserData=_useContext.setUserData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"dashboard\"),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),settingsOpen=_useState6[0],setSettingsOpen=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),purchasedStocks=_useState8[0],setPurchasedStocks=_useState8[1];if(!userData.user){navigate(\"/login\");}var getPurchasedStocks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,headers,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=config.base_url+\"/api/stock/\".concat(userData.user.id);headers={\"x-auth-token\":userData.token};_context.next=4;return Axios.get(url,{headers:headers});case 4:response=_context.sent;if(response.data.status===\"success\"){setPurchasedStocks(response.data.stocks);}case 6:case\"end\":return _context.stop();}}},_callee);}));return function getPurchasedStocks(){return _ref.apply(this,arguments);};}();useEffect(function(){getPurchasedStocks();},[]);var logout=function logout(){setUserData({token:undefined,user:undefined});localStorage.setItem(\"auth-token\",\"\");navigate(\"/register\");};var handleDrawerOpen=function handleDrawerOpen(){setOpen(true);};var handleDrawerClose=function handleDrawerClose(){setOpen(false);};var openSettings=function openSettings(){setSettingsOpen(true);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(AppBar,{position:\"absolute\",className:clsx(styles.appBarBackground,classes.appBar,open&&classes.appBarShift),children:/*#__PURE__*/_jsxs(Toolbar,{className:styles.toolbar,children:[/*#__PURE__*/_jsx(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"open drawer\",onClick:handleDrawerOpen,className:clsx(styles.menuButton,open&&styles.menuButtonHidden),children:/*#__PURE__*/_jsx(MenuIcon,{})}),/*#__PURE__*/_jsxs(Typography,{component:\"h1\",variant:\"h6\",color:\"inherit\",noWrap:true,className:styles.title,children:[currentPage===\"dashboard\"&&\"Dashboard\",currentPage===\"news\"&&\"Market News\",currentPage===\"search\"&&\"Search\"]}),/*#__PURE__*/_jsxs(Typography,{color:\"inherit\",children:[\"Hello,\",\" \",userData.user.username?userData.user.username.charAt(0).toUpperCase()+userData.user.username.slice(1):\"\"]})]})}),/*#__PURE__*/_jsxs(Drawer,{variant:\"permanent\",classes:{paper:clsx(classes.drawerPaper,!open&&classes.drawerPaperClose)},open:open,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.toolbarIcon,children:/*#__PURE__*/_jsx(IconButton,{onClick:handleDrawerClose,children:/*#__PURE__*/_jsx(ChevronLeftIcon,{})})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{children:/*#__PURE__*/_jsx(Navbar,{currentPage:currentPage,setCurrentPage:setCurrentPage})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{children:/*#__PURE__*/_jsx(SecondNavbar,{logout:logout,openSettings:openSettings})})]}),/*#__PURE__*/_jsxs(\"main\",{className:styles.content,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.appBarSpacer}),currentPage===\"dashboard\"&&/*#__PURE__*/_jsx(Dashboard,{purchasedStocks:purchasedStocks}),currentPage===\"news\"&&/*#__PURE__*/_jsx(News,{}),currentPage===\"search\"&&/*#__PURE__*/_jsx(Search,{setPurchasedStocks:setPurchasedStocks,purchasedStocks:purchasedStocks}),settingsOpen&&/*#__PURE__*/_jsx(SettingsModal,{setSettingsOpen:setSettingsOpen})]})]});};export default PageTemplate;","map":{"version":3,"sources":["C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/src/components/Template/PageTemplate.jsx"],"names":["React","useContext","useState","useEffect","useNavigate","UserContext","styles","clsx","Drawer","CssBaseline","AppBar","Toolbar","List","Typography","Divider","IconButton","MenuIcon","ChevronLeftIcon","Navbar","SecondNavbar","Dashboard","News","Search","SettingsModal","Axios","makeStyles","config","drawerWidth","useStyles","theme","appBarSpacer","mixins","toolbar","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","PageTemplate","navigate","classes","userData","setUserData","open","setOpen","currentPage","setCurrentPage","settingsOpen","setSettingsOpen","purchasedStocks","setPurchasedStocks","user","getPurchasedStocks","url","base_url","id","headers","token","get","response","data","status","stocks","logout","undefined","localStorage","setItem","handleDrawerOpen","handleDrawerClose","openSettings","root","appBarBackground","menuButton","menuButtonHidden","title","username","charAt","toUpperCase","slice","paper","toolbarIcon","content"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport styles from \"./PageTemplate.module.css\";\r\nimport clsx from \"clsx\";\r\nimport {\r\n  Drawer,\r\n  CssBaseline,\r\n  AppBar,\r\n  Toolbar,\r\n  List,\r\n  Typography,\r\n  Divider,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport Navbar from \"../Template/Navbar\";\r\nimport SecondNavbar from \"../Template/SecondNavbar\";\r\nimport Dashboard from \"../Dashboard/Dashboard\";\r\nimport News from \"../News/News\";\r\nimport Search from \"../Search/Search\";\r\nimport SettingsModal from \"./SettingsModal\";\r\nimport Axios from \"axios\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport config from \"../../config/Config\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n}));\r\n\r\nconst PageTemplate = () => {\r\n  const navigate = useNavigate();\r\n  const classes = useStyles();\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const [open, setOpen] = useState(false);\r\n  const [currentPage, setCurrentPage] = useState(\"dashboard\");\r\n  const [settingsOpen, setSettingsOpen] = useState(false);\r\n  const [purchasedStocks, setPurchasedStocks] = useState([]);\r\n\r\n  if (!userData.user) {\r\n    navigate(\"/login\");\r\n  }\r\n\r\n  const getPurchasedStocks = async () => {\r\n    const url = config.base_url + `/api/stock/${userData.user.id}`;\r\n    const headers = {\r\n      \"x-auth-token\": userData.token,\r\n    };\r\n\r\n    const response = await Axios.get(url, {\r\n      headers,\r\n    });\r\n\r\n    if (response.data.status === \"success\") {\r\n      setPurchasedStocks(response.data.stocks);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPurchasedStocks();\r\n  }, []);\r\n\r\n  const logout = () => {\r\n    setUserData({\r\n      token: undefined,\r\n      user: undefined,\r\n    });\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n    navigate(\"/register\");\r\n  };\r\n\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const openSettings = () => {\r\n    setSettingsOpen(true);\r\n  };\r\n  \r\n  return (\r\n    <div className={styles.root}>\r\n      <CssBaseline />\r\n        <AppBar\r\n          position=\"absolute\"\r\n          className={clsx(\r\n            styles.appBarBackground,\r\n            classes.appBar,\r\n            open && classes.appBarShift\r\n          )}\r\n        >\r\n          <Toolbar className={styles.toolbar}>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={handleDrawerOpen}\r\n              className={clsx(\r\n                styles.menuButton,\r\n                open && styles.menuButtonHidden\r\n              )}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography\r\n              component=\"h1\"\r\n              variant=\"h6\"\r\n              color=\"inherit\"\r\n              noWrap\r\n              className={styles.title}\r\n            >\r\n              {currentPage === \"dashboard\" && \"Dashboard\"}\r\n              {currentPage === \"news\" && \"Market News\"}\r\n              {currentPage === \"search\" && \"Search\"}\r\n            </Typography>\r\n            <Typography color=\"inherit\">\r\n              Hello,{\" \"}\r\n              {userData.user.username\r\n                ? userData.user.username.charAt(0).toUpperCase() +\r\n                  userData.user.username.slice(1)\r\n                : \"\"}\r\n            </Typography>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Drawer\r\n          variant=\"permanent\"\r\n          classes={{\r\n            paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n          }}\r\n          open={open}\r\n        >\r\n          <div className={styles.toolbarIcon}>\r\n            <IconButton onClick={handleDrawerClose}>\r\n              <ChevronLeftIcon />\r\n            </IconButton>\r\n          </div>\r\n          <Divider />\r\n          <List>\r\n            <Navbar currentPage={currentPage} setCurrentPage={setCurrentPage} />\r\n          </List>\r\n          <Divider />\r\n          <List>\r\n            <SecondNavbar logout={logout} openSettings={openSettings} />\r\n          </List>\r\n        </Drawer>\r\n      <main className={styles.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        {currentPage === \"dashboard\" && (\r\n          <Dashboard purchasedStocks={purchasedStocks} />\r\n        )}\r\n        {currentPage === \"news\" && <News />}\r\n        {currentPage === \"search\" && (\r\n          <Search\r\n            setPurchasedStocks={setPurchasedStocks}\r\n            purchasedStocks={purchasedStocks}\r\n          />\r\n        )}\r\n        {settingsOpen && <SettingsModal setSettingsOpen={setSettingsOpen} />}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\nexport default PageTemplate;\r\n"]},"metadata":{},"sourceType":"module"}