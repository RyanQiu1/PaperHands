{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\FTChu\\\\OneDrive\\\\Documents\\\\GitHub\\\\PaperHands\\\\page\\\\client\\\\src\\\\components\\\\Search\\\\Search.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport UserContext from \"../../context/UserContext\";\nimport { TextField, Container, Grid, Box, Card } from \"@material-ui/core/\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport LineChart from \"../Template/LineChart\";\nimport BarChart from \"./BarChart\";\nimport Copyright from \"../Template/Copyright\";\nimport InfoCard from \"./InfoCard\";\nimport PriceCard from \"./PriceCard\";\nimport PurchaseCard from \"./PurchaseCard\";\nimport PurchaseModal from \"./PurchaseModal\";\nimport config from \"../../config/Config\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport Axios from \"axios\";\nimport styles from \"./Search.module.css\";\nimport Coin from './Coin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst filter = createFilterOptions();\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    marginBottom: \"40px\"\n  }\n}));\n\nconst LineChartCard = _ref => {\n  let {\n    pastDataPeriod,\n    stockInfo,\n    duration\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    xs: 12,\n    sm: 7,\n    component: Card,\n    className: styles.card,\n    style: {\n      minHeight: \"350px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(LineChart, {\n      pastDataPeriod: pastDataPeriod,\n      stockInfo: stockInfo,\n      duration: duration\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_c = LineChartCard;\n\nconst BarChartCard = _ref2 => {\n  let {\n    sixMonthAverages,\n    stockInfo\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    component: Card,\n    className: styles.card,\n    children: /*#__PURE__*/_jsxDEV(BarChart, {\n      sixMonthAverages: sixMonthAverages,\n      stockInfo: stockInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = BarChartCard;\n\nconst StockCard = _ref3 => {\n  _s();\n\n  let {\n    setPurchasedStocks,\n    purchasedStocks,\n    currentStock\n  } = _ref3;\n  const {\n    userData\n  } = useContext(UserContext);\n  const [selected, setSelected] = useState(false);\n  const [stockInfo, setStockInfo] = useState(undefined);\n  const [sixMonthAverages, setSixMonthAverages] = useState(undefined);\n  const [pastDay, setPastDay] = useState(undefined);\n  const [pastMonth, setPastMonth] = useState(undefined);\n  const [pastTwoYears, setPastTwoYears] = useState(undefined);\n  useEffect(() => {\n    const getInfo = async () => {\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}`;\n      const response = await Axios.get(url);\n\n      if (response.data.status === \"success\") {\n        setStockInfo(response.data.data);\n      }\n    };\n\n    getInfo();\n\n    const getData = async () => {\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}/full`;\n      const response = await Axios.get(url);\n\n      if (response.data.status === \"success\") {\n        setSixMonthAverages(response.data.sixMonthAverages);\n        setPastDay(response.data.pastDay);\n        setPastMonth(response.data.pastMonth);\n        setPastTwoYears(response.data.pastTwoYears);\n      }\n    };\n\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.root,\n    children: [stockInfo && pastDay && /*#__PURE__*/_jsxDEV(InfoCard, {\n      stockInfo: stockInfo,\n      price: pastDay.adjClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), sixMonthAverages && pastDay && pastMonth && pastTwoYears && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(LineChartCard, {\n          pastDataPeriod: pastTwoYears,\n          stockInfo: stockInfo,\n          duration: \"2 years\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(BarChartCard, {\n          sixMonthAverages: sixMonthAverages,\n          stockInfo: stockInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PriceCard, {\n        pastDay: pastDay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(PurchaseCard, {\n          setSelected: setSelected,\n          balance: userData.user.balance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(LineChartCard, {\n          pastDataPeriod: pastMonth,\n          stockInfo: stockInfo,\n          duration: \"month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        pt: 4,\n        children: /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }, this), selected && /*#__PURE__*/_jsxDEV(PurchaseModal, {\n        stockInfo: stockInfo,\n        pastDay: pastDay,\n        setSelected: setSelected,\n        setPurchasedStocks: setPurchasedStocks,\n        purchasedStocks: purchasedStocks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n_s(StockCard, \"HnV2kk5rPcjOufwBcrt/y7h1two=\");\n\n_c3 = StockCard;\n\nconst Search = _ref4 => {\n  _s2();\n\n  let {\n    setPurchasedStocks,\n    purchasedStocks\n  } = _ref4;\n  const [coins, setCoins] = useState([]);\n  const [search, setSearch] = useState('');\n  useEffect(() => {\n    axios.get('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false').then(res => {\n      setCoins(res.data);\n      console.log(res.data);\n    }).catch(error => console.log(error));\n  }, []);\n\n  const handleChange = e => {\n    setSearch(e.target.value);\n  };\n\n  const filteredCoins = coins.filter(coin => coin.name.toLowerCase().includes(search.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"coin-app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"coin-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"coin-text\",\n        children: \"Search a currency\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"coin-input\",\n          type: \"text\",\n          onChange: handleChange,\n          placeholder: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), filteredCoins.map(coin => {\n      return /*#__PURE__*/_jsxDEV(Coin, {\n        name: coin.name,\n        price: coin.current_price,\n        symbol: coin.symbol,\n        marketcap: coin.total_volume,\n        volume: coin.market_cap,\n        image: coin.image,\n        priceChange: coin.price_change_percentage_24h\n      }, coin.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Search, \"RP/vHIb1hIGkJRpJzwuYjErexok=\");\n\n_c4 = Search;\nexport default Search;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"LineChartCard\");\n$RefreshReg$(_c2, \"BarChartCard\");\n$RefreshReg$(_c3, \"StockCard\");\n$RefreshReg$(_c4, \"Search\");","map":{"version":3,"sources":["C:/Users/FTChu/OneDrive/Documents/GitHub/PaperHands/page/client/src/components/Search/Search.jsx"],"names":["UserContext","TextField","Container","Grid","Box","Card","Autocomplete","createFilterOptions","makeStyles","LineChart","BarChart","Copyright","InfoCard","PriceCard","PurchaseCard","PurchaseModal","config","React","useState","useEffect","useContext","Axios","styles","Coin","filter","useStyles","theme","paper","padding","spacing","display","overflow","flexDirection","marginBottom","LineChartCard","pastDataPeriod","stockInfo","duration","card","minHeight","BarChartCard","sixMonthAverages","StockCard","setPurchasedStocks","purchasedStocks","currentStock","userData","selected","setSelected","setStockInfo","undefined","setSixMonthAverages","pastDay","setPastDay","pastMonth","setPastMonth","pastTwoYears","setPastTwoYears","getInfo","url","base_url","ticker","response","get","data","status","getData","root","adjClose","user","balance","Search","coins","setCoins","search","setSearch","axios","then","res","console","log","catch","error","handleChange","e","target","value","filteredCoins","coin","name","toLowerCase","includes","map","current_price","symbol","total_volume","market_cap","image","price_change_percentage_24h","id"],"mappings":"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","sourcesContent":["import UserContext from \"../../context/UserContext\";\r\nimport { TextField, Container, Grid, Box, Card } from \"@material-ui/core/\";\r\nimport Autocomplete, {\r\n  createFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LineChart from \"../Template/LineChart\";\r\nimport BarChart from \"./BarChart\";\r\nimport Copyright from \"../Template/Copyright\";\r\nimport InfoCard from \"./InfoCard\";\r\nimport PriceCard from \"./PriceCard\";\r\nimport PurchaseCard from \"./PurchaseCard\";\r\nimport PurchaseModal from \"./PurchaseModal\";\r\nimport config from \"../../config/Config\";\r\n\r\nimport React, { useState, useEffect, useContext } from \"react\";\r\nimport Axios from \"axios\";\r\nimport styles from \"./Search.module.css\";\r\nimport Coin from './Coin';\r\n\r\nconst filter = createFilterOptions();\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    marginBottom: \"40px\",\r\n  },\r\n}));\r\n\r\nconst LineChartCard = ({ pastDataPeriod, stockInfo, duration }) => {\r\n  return (\r\n    <Grid\r\n      item\r\n      xs={12}\r\n      sm={7}\r\n      component={Card}\r\n      className={styles.card}\r\n      style={{ minHeight: \"350px\" }}\r\n    >\r\n      <LineChart\r\n        pastDataPeriod={pastDataPeriod}\r\n        stockInfo={stockInfo}\r\n        duration={duration}\r\n      />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst BarChartCard = ({ sixMonthAverages, stockInfo }) => {\r\n  return (\r\n    <Grid item xs={12} sm component={Card} className={styles.card}>\r\n      <BarChart sixMonthAverages={sixMonthAverages} stockInfo={stockInfo} />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst StockCard = ({ setPurchasedStocks, purchasedStocks, currentStock }) => {\r\n  const { userData } = useContext(UserContext);\r\n  const [selected, setSelected] = useState(false);\r\n  const [stockInfo, setStockInfo] = useState(undefined);\r\n  const [sixMonthAverages, setSixMonthAverages] = useState(undefined);\r\n  const [pastDay, setPastDay] = useState(undefined);\r\n  const [pastMonth, setPastMonth] = useState(undefined);\r\n  const [pastTwoYears, setPastTwoYears] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    const getInfo = async () => {\r\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}`;\r\n      const response = await Axios.get(url);\r\n      if (response.data.status === \"success\") {\r\n        setStockInfo(response.data.data);\r\n      }\r\n    };\r\n\r\n    getInfo();\r\n\r\n    const getData = async () => {\r\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}/full`;\r\n      const response = await Axios.get(url);\r\n      if (response.data.status === \"success\") {\r\n        setSixMonthAverages(response.data.sixMonthAverages);\r\n        setPastDay(response.data.pastDay);\r\n        setPastMonth(response.data.pastMonth);\r\n        setPastTwoYears(response.data.pastTwoYears);\r\n      }\r\n    };\r\n\r\n    getData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      {stockInfo && pastDay && (\r\n        <InfoCard stockInfo={stockInfo} price={pastDay.adjClose} />\r\n      )}\r\n      {sixMonthAverages && pastDay && pastMonth && pastTwoYears && (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n            <LineChartCard\r\n              pastDataPeriod={pastTwoYears}\r\n              stockInfo={stockInfo}\r\n              duration={\"2 years\"}\r\n            />\r\n            <BarChartCard\r\n              sixMonthAverages={sixMonthAverages}\r\n              stockInfo={stockInfo}\r\n            />\r\n          </Grid>\r\n          <PriceCard pastDay={pastDay} />\r\n          <Grid container spacing={3}>\r\n            <PurchaseCard\r\n              setSelected={setSelected}\r\n              balance={userData.user.balance}\r\n            />\r\n            <LineChartCard\r\n              pastDataPeriod={pastMonth}\r\n              stockInfo={stockInfo}\r\n              duration={\"month\"}\r\n            />\r\n          </Grid>\r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n          {selected && (\r\n            <PurchaseModal\r\n              stockInfo={stockInfo}\r\n              pastDay={pastDay}\r\n              setSelected={setSelected}\r\n              setPurchasedStocks={setPurchasedStocks}\r\n              purchasedStocks={purchasedStocks}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Search = ({ setPurchasedStocks, purchasedStocks }) => {\r\n  const [coins, setCoins] = useState([]);\r\n  const [search, setSearch] = useState('');\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\r\n        'https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false'\r\n      )\r\n      .then(res => {\r\n        setCoins(res.data);\r\n        console.log(res.data);\r\n      })\r\n      .catch(error => console.log(error));\r\n  }, []);\r\n\r\n  const handleChange = e => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const filteredCoins = coins.filter(coin =>\r\n    coin.name.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className='coin-app'>\r\n      <div className='coin-search'>\r\n        <h1 className='coin-text'>Search a currency</h1>\r\n        <form>\r\n          <input\r\n            className='coin-input'\r\n            type='text'\r\n            onChange={handleChange}\r\n            placeholder='Search'\r\n          />\r\n        </form>\r\n      </div>\r\n      {filteredCoins.map(coin => {\r\n        return (\r\n          <Coin\r\n            key={coin.id}\r\n            name={coin.name}\r\n            price={coin.current_price}\r\n            symbol={coin.symbol}\r\n            marketcap={coin.total_volume}\r\n            volume={coin.market_cap}\r\n            image={coin.image}\r\n            priceChange={coin.price_change_percentage_24h}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}