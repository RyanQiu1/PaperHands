{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Ryan\\\\Documents\\\\GitHub\\\\PaperHands\\\\page\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useContext}from\"react\";import{Box,Typography,TextField,CssBaseline,Button,Card,CardContent,Grid,Link}from\"@material-ui/core\";import{useNavigate}from\"react-router-dom\";import UserContext from\"../../context/UserContext\";import Axios from\"axios\";import config from\"../../config/Config\";import styles from\"./Auth.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var navigate=useNavigate();var _useContext=useContext(UserContext),setUserData=_useContext.setUserData;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),usernameError=_useState4[0],setUsernameError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordError=_useState8[0],setPasswordError=_useState8[1];var onChangeUsername=function onChangeUsername(e){var newUsername=e.target.value;setUsername(newUsername);};var onChangePassword=function onChangePassword(e){var newPassword=e.target.value;setPassword(newPassword);};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var newUser,url,loginRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();newUser={username:username,password:password};url=config.base_url+\"/api/auth/login\";_context.next=5;return Axios.post(url,newUser);case 5:loginRes=_context.sent;if(loginRes.data.status===\"fail\"){setUsernameError(loginRes.data.message);setPasswordError(loginRes.data.message);}else{setUserData(loginRes.data);localStorage.setItem(\"auth-token\",loginRes.data.token);navigate(\"/\");}case 7:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.background,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:0,direction:\"column\",alignItems:\"center\",justify:\"center\",style:{minHeight:\"100vh\"},children:/*#__PURE__*/_jsx(Box,{width:\"70vh\",boxShadow:1,children:/*#__PURE__*/_jsx(Card,{className:styles.paper,children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",autoComplete:\"username\",error:usernameError.length>0?true:false,helperText:usernameError,value:username,onChange:onChangeUsername}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",error:passwordError.length>0?true:false,helperText:passwordError,value:password,onChange:onChangePassword}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:styles.submit,children:\"Login\"})})]}),/*#__PURE__*/_jsx(Grid,{container:true,justify:\"center\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/register\",variant:\"body2\",children:\"Need an account?\"})})})]})})})})]});};export default Login;","map":{"version":3,"sources":["C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/src/components/Authentication/Login.jsx"],"names":["React","useState","useContext","Box","Typography","TextField","CssBaseline","Button","Card","CardContent","Grid","Link","useNavigate","UserContext","Axios","config","styles","Login","navigate","setUserData","username","setUsername","usernameError","setUsernameError","password","setPassword","passwordError","setPasswordError","onChangeUsername","e","newUsername","target","value","onChangePassword","newPassword","onSubmit","preventDefault","newUser","url","base_url","post","loginRes","data","status","message","localStorage","setItem","token","background","minHeight","paper","form","length","submit"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport {\n  Box,\n  Typography,\n  TextField,\n  CssBaseline,\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  Link,\n} from \"@material-ui/core\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserContext from \"../../context/UserContext\";\nimport Axios from \"axios\";\nimport config from \"../../config/Config\";\n\nimport styles from \"./Auth.module.css\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const { setUserData } = useContext(UserContext);\n\n  const [username, setUsername] = useState(\"\");\n  const [usernameError, setUsernameError] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n\n  const onChangeUsername = (e) => {\n    const newUsername = e.target.value;\n    setUsername(newUsername);\n  };\n\n  const onChangePassword = (e) => {\n    const newPassword = e.target.value;\n    setPassword(newPassword);\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    const newUser = { username, password };\n    const url = config.base_url + \"/api/auth/login\";\n    const loginRes = await Axios.post(url, newUser);\n\n    if (loginRes.data.status === \"fail\") {\n      setUsernameError(loginRes.data.message);\n      setPasswordError(loginRes.data.message);\n    } else {\n      setUserData(loginRes.data);\n      localStorage.setItem(\"auth-token\", loginRes.data.token);\n      navigate(\"/\");\n    }\n  };\n\n  return (\n    <div className={styles.background}>\n      <CssBaseline />\n      <Grid\n        container\n        spacing={0}\n        direction=\"column\"\n        alignItems=\"center\"\n        justify=\"center\"\n        style={{ minHeight: \"100vh\" }}\n      >\n        <Box width=\"70vh\" boxShadow={1}>\n          <Card className={styles.paper}>\n            <CardContent>\n              <Typography component=\"h1\" variant=\"h5\">\n                Login\n              </Typography>\n              <form className={styles.form} onSubmit={onSubmit}>\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  id=\"username\"\n                  label=\"Username\"\n                  name=\"username\"\n                  autoComplete=\"username\"\n                  error={usernameError.length > 0 ? true : false}\n                  helperText={usernameError}\n                  value={username}\n                  onChange={onChangeUsername}\n                />\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  error={passwordError.length > 0 ? true : false}\n                  helperText={passwordError}\n                  value={password}\n                  onChange={onChangePassword}\n                />\n                <Box display=\"flex\" justifyContent=\"center\">\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={styles.submit}\n                  >\n                    Login\n                  </Button>\n                </Box>\n              </form>\n              <Grid container justify=\"center\">\n                <Grid item>\n                  <Link href=\"/register\" variant=\"body2\">\n                    Need an account?\n                  </Link>\n                </Grid>\n              </Grid>\n            </CardContent>\n          </Card>\n        </Box>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}