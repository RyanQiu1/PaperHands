{"ast":null,"code":"import _objectSpread from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Ryan\\\\Documents\\\\GitHub\\\\PaperHands\\\\page\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect,useContext}from\"react\";import UserContext from\"../../context/UserContext\";import{TextField,Container,Grid,Box,Card}from\"@material-ui/core/\";import Autocomplete,{createFilterOptions}from\"@material-ui/lab/Autocomplete\";import{makeStyles}from\"@material-ui/core/styles\";import LineChart from\"../Template/LineChart\";import BarChart from\"./BarChart\";import Copyright from\"../Template/Copyright\";import styles from\"./Search.module.css\";import Axios from\"axios\";import InfoCard from\"./InfoCard\";import PriceCard from\"./PriceCard\";import PurchaseCard from\"./PurchaseCard\";import PurchaseModal from\"./PurchaseModal\";import config from\"../../config/Config\";import Google from\"./googletrend\";import Boxer from\"./Box.jsx\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var filter=createFilterOptions();var useStyles=makeStyles(function(theme){return{paper:{padding:theme.spacing(2),display:\"flex\",overflow:\"auto\",flexDirection:\"column\",marginBottom:\"40px\"}};});var LineChartCard=function LineChartCard(_ref){var pastDataPeriod=_ref.pastDataPeriod,stockInfo=_ref.stockInfo,duration=_ref.duration;return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:7,component:Card,className:styles.card,style:{minHeight:\"350px\"},children:/*#__PURE__*/_jsx(LineChart,{pastDataPeriod:pastDataPeriod,stockInfo:stockInfo,duration:duration})});};var BarChartCard=function BarChartCard(_ref2){var sixMonthAverages=_ref2.sixMonthAverages,stockInfo=_ref2.stockInfo;return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:true,component:Card,className:styles.card,children:/*#__PURE__*/_jsx(BarChart,{sixMonthAverages:sixMonthAverages,stockInfo:stockInfo})});};var StockCard=function StockCard(_ref3){var setPurchasedStocks=_ref3.setPurchasedStocks,purchasedStocks=_ref3.purchasedStocks,currentStock=_ref3.currentStock;var _useContext=useContext(UserContext),userData=_useContext.userData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),selected=_useState2[0],setSelected=_useState2[1];var _useState3=useState(undefined),_useState4=_slicedToArray(_useState3,2),stockInfo=_useState4[0],setStockInfo=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),sixMonthAverages=_useState6[0],setSixMonthAverages=_useState6[1];var _useState7=useState(undefined),_useState8=_slicedToArray(_useState7,2),pastDay=_useState8[0],setPastDay=_useState8[1];var _useState9=useState(undefined),_useState10=_slicedToArray(_useState9,2),pastMonth=_useState10[0],setPastMonth=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),pastTwoYears=_useState12[0],setPastTwoYears=_useState12[1];var _useState13=useState(undefined),_useState14=_slicedToArray(_useState13,2),informa=_useState14[0],setData=_useState14[1];var _useState15=useState(undefined),_useState16=_slicedToArray(_useState15,2),enterpriseVal=_useState16[0],setEnterpriceVal=_useState16[1];var _useState17=useState(undefined),_useState18=_slicedToArray(_useState17,2),peRatio=_useState18[0],setPERatio=_useState18[1];var _useState19=useState(undefined),_useState20=_slicedToArray(_useState19,2),pbRatio=_useState20[0],setPBRatio=_useState20[1];useEffect(function(){var getInfo=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=config.base_url+\"/api/data/prices/\".concat(currentStock.ticker);_context.next=3;return Axios.get(url);case 3:response=_context.sent;if(response.data.status===\"success\"){setStockInfo(response.data.data);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function getInfo(){return _ref4.apply(this,arguments);};}();getInfo();var getData=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=config.base_url+\"/api/data/prices/\".concat(currentStock.ticker,\"/full\");_context2.next=3;return Axios.get(url);case 3:response=_context2.sent;if(response.data.status===\"success\"){setSixMonthAverages(response.data.sixMonthAverages);setPastDay(response.data.pastDay);setPastMonth(response.data.pastMonth);setPastTwoYears(response.data.pastTwoYears);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getData(){return _ref5.apply(this,arguments);};}();getData();var getFunda=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=config.base_url+\"/api/data/fundamentals/\".concat(currentStock.ticker);_context3.next=3;return Axios.get(url);case 3:response=_context3.sent;if(response.status===\"success\"){setData(response.data.informa);}case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function getFunda(){return _ref6.apply(this,arguments);};}();getFunda();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.root,children:[stockInfo&&pastDay&&/*#__PURE__*/_jsx(InfoCard,{stockInfo:stockInfo,price:pastDay.adjClose}),sixMonthAverages&&pastDay&&pastMonth&&pastTwoYears&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(LineChartCard,{pastDataPeriod:pastTwoYears,stockInfo:stockInfo,duration:\"2 years\"}),/*#__PURE__*/_jsx(BarChartCard,{sixMonthAverages:sixMonthAverages,stockInfo:stockInfo})]}),/*#__PURE__*/_jsx(PriceCard,{pastDay:pastDay}),/*#__PURE__*/_jsx(Google,{stockInfo:stockInfo.ticker}),/*#__PURE__*/_jsx(Boxer,{}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(PurchaseCard,{setSelected:setSelected,balance:userData.user.balance}),/*#__PURE__*/_jsx(LineChartCard,{pastDataPeriod:pastMonth,stockInfo:stockInfo,duration:\"month\"})]}),/*#__PURE__*/_jsx(Box,{pt:4,children:/*#__PURE__*/_jsx(Copyright,{})}),selected&&/*#__PURE__*/_jsx(PurchaseModal,{stockInfo:stockInfo,pastDay:pastDay,setSelected:setSelected,setPurchasedStocks:setPurchasedStocks,purchasedStocks:purchasedStocks})]})]});};var Search=function Search(_ref7){var setPurchasedStocks=_ref7.setPurchasedStocks,purchasedStocks=_ref7.purchasedStocks;var classes=useStyles();var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),value=_useState22[0],setValue=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),currentStock=_useState24[0],setCurrentStock=_useState24[1];var onSearchChange=function onSearchChange(event,newValue){setValue(newValue);if(newValue){setCurrentStock(newValue);}else{setCurrentStock(null);}};return/*#__PURE__*/_jsxs(Container,{className:classes.addMargin,children:[/*#__PURE__*/_jsx(Autocomplete,{value:value,onChange:onSearchChange,filterOptions:function filterOptions(options,params){var filtered=filter(options,params);if(currentStock){filtered=filtered.slice(0,4);}return filtered;},selectOnFocus:true,clearOnBlur:true,handleHomeEndKeys:true,id:\"stock-search-bar\",options:stocks,getOptionLabel:function getOptionLabel(option){return option.name;},renderOption:function renderOption(option){return option.name;},style:{maxWidth:\"700px\",margin:\"30px auto\",marginBottom:\"60px\"},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{label:\"Search for a stock\",variant:\"outlined\"}));}}),currentStock&&/*#__PURE__*/_jsx(StockCard,{setPurchasedStocks:setPurchasedStocks,purchasedStocks:purchasedStocks,currentStock:currentStock}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});};var stocks=[{name:\"Apple\",ticker:\"AAPL\"},{name:\"Amazon\",ticker:\"AMZN\"},{name:\"Google\",ticker:\"GOOG\"},{name:\"Microsoft\",ticker:\"MSFT\"},{name:\"Walmart\",ticker:\"WMT\"},{name:\"Intel\",ticker:\"INTC\"},{name:\"American Express\",ticker:\"AXP\"},{name:\"Boeing\",ticker:\"BA\"},{name:\"Cisco\",ticker:\"CSCO\"},{name:\"Goldman Sachs\",ticker:\"GS\"},{name:\"Johson & Johnson\",ticker:\"JNJ\"},{name:\"Coca-Cola\",ticker:\"KO\"},{name:\"McDonald's\",ticker:\"MCD\"},{name:\"Nike\",ticker:\"NKE\"},{name:\"Procter & Gamble\",ticker:\"PG\"},{name:\"Verizon\",ticker:\"VZ\"},{name:\"Salesforce\",ticker:\"CRM\"},{name:\"Visa\",ticker:\"V\"},{name:\"UnitedHealth\",ticker:\"UNH\"},{name:\"IBM\",ticker:\"IBM\"},{name:\"Chevron\",ticker:\"CVX\"}];export default Search;","map":{"version":3,"sources":["C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/src/components/Search/Search.jsx"],"names":["React","useState","useEffect","useContext","UserContext","TextField","Container","Grid","Box","Card","Autocomplete","createFilterOptions","makeStyles","LineChart","BarChart","Copyright","styles","Axios","InfoCard","PriceCard","PurchaseCard","PurchaseModal","config","Google","Boxer","filter","useStyles","theme","paper","padding","spacing","display","overflow","flexDirection","marginBottom","LineChartCard","pastDataPeriod","stockInfo","duration","card","minHeight","BarChartCard","sixMonthAverages","StockCard","setPurchasedStocks","purchasedStocks","currentStock","userData","selected","setSelected","undefined","setStockInfo","setSixMonthAverages","pastDay","setPastDay","pastMonth","setPastMonth","pastTwoYears","setPastTwoYears","informa","setData","enterpriseVal","setEnterpriceVal","peRatio","setPERatio","pbRatio","setPBRatio","getInfo","url","base_url","ticker","get","response","data","status","getData","getFunda","root","adjClose","user","balance","Search","classes","value","setValue","setCurrentStock","onSearchChange","event","newValue","addMargin","options","params","filtered","slice","stocks","option","name","maxWidth","margin"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport { TextField, Container, Grid, Box, Card } from \"@material-ui/core/\";\r\nimport Autocomplete, {\r\n  createFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LineChart from \"../Template/LineChart\";\r\nimport BarChart from \"./BarChart\";\r\nimport Copyright from \"../Template/Copyright\";\r\nimport styles from \"./Search.module.css\";\r\nimport Axios from \"axios\";\r\nimport InfoCard from \"./InfoCard\";\r\nimport PriceCard from \"./PriceCard\";\r\nimport PurchaseCard from \"./PurchaseCard\";\r\nimport PurchaseModal from \"./PurchaseModal\";\r\nimport config from \"../../config/Config\";\r\nimport Google from \"./googletrend\";\r\nimport Boxer from \"./Box.jsx\";\r\n\r\nconst filter = createFilterOptions();\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    marginBottom: \"40px\",\r\n  },\r\n}));\r\n\r\nconst LineChartCard = ({ pastDataPeriod, stockInfo, duration }) => {\r\n  return (\r\n    <Grid\r\n      item\r\n      xs={12}\r\n      sm={7}\r\n      component={Card}\r\n      className={styles.card}\r\n      style={{ minHeight: \"350px\" }}\r\n    >\r\n      <LineChart\r\n        pastDataPeriod={pastDataPeriod}\r\n        stockInfo={stockInfo}\r\n        duration={duration}\r\n      />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst BarChartCard = ({ sixMonthAverages, stockInfo }) => {\r\n  return (\r\n    <Grid item xs={12} sm component={Card} className={styles.card}>\r\n      <BarChart sixMonthAverages={sixMonthAverages} stockInfo={stockInfo} />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst StockCard = ({ setPurchasedStocks, purchasedStocks, currentStock }) => {\r\n  const { userData } = useContext(UserContext);\r\n  const [selected, setSelected] = useState(false);\r\n  const [stockInfo, setStockInfo] = useState(undefined);\r\n  const [sixMonthAverages, setSixMonthAverages] = useState(undefined);\r\n  const [pastDay, setPastDay] = useState(undefined);\r\n  const [pastMonth, setPastMonth] = useState(undefined);\r\n  const [pastTwoYears, setPastTwoYears] = useState(undefined);\r\n  const [informa, setData] = useState(undefined);\r\n  const [enterpriseVal, setEnterpriceVal] = useState(undefined);\r\n  const [peRatio, setPERatio] = useState(undefined);\r\n  const [pbRatio, setPBRatio] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    const getInfo = async () => {\r\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}`;\r\n      const response = await Axios.get(url);\r\n      if (response.data.status === \"success\") {\r\n        setStockInfo(response.data.data);\r\n      }\r\n    };\r\n\r\n    getInfo();\r\n\r\n    const getData = async () => {\r\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}/full`;\r\n      const response = await Axios.get(url);\r\n      if (response.data.status === \"success\") {\r\n        setSixMonthAverages(response.data.sixMonthAverages);\r\n        setPastDay(response.data.pastDay);\r\n        setPastMonth(response.data.pastMonth);\r\n        setPastTwoYears(response.data.pastTwoYears);\r\n      }\r\n    };\r\n\r\n    getData();\r\n\r\n    const getFunda = async () => {\r\n      const url = config.base_url + `/api/data/fundamentals/${currentStock.ticker}`;\r\n      const response = await Axios.get(url);\r\n      if (response.status === \"success\") {\r\n        setData(response.data.informa);\r\n      } \r\n    };\r\n\r\n    getFunda();\r\n\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      {stockInfo && pastDay && (\r\n        <InfoCard stockInfo={stockInfo} price={pastDay.adjClose} />\r\n      )}\r\n      {sixMonthAverages && pastDay && pastMonth && pastTwoYears && (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n            <LineChartCard\r\n              pastDataPeriod={pastTwoYears}\r\n              stockInfo={stockInfo}\r\n              duration={\"2 years\"}\r\n            />\r\n            <BarChartCard\r\n              sixMonthAverages={sixMonthAverages}\r\n              stockInfo={stockInfo}\r\n            />\r\n          </Grid>\r\n          <PriceCard \r\n            pastDay={pastDay}\r\n           />\r\n         \r\n          <Google \r\n            stockInfo={stockInfo.ticker}\r\n          />\r\n          <Boxer>\r\n\r\n          </Boxer>\r\n          <Grid container spacing={3}>\r\n            <PurchaseCard\r\n              setSelected={setSelected}\r\n              balance={userData.user.balance}\r\n            />\r\n            <LineChartCard\r\n              pastDataPeriod={pastMonth}\r\n              stockInfo={stockInfo}\r\n              duration={\"month\"}\r\n            />\r\n          </Grid>\r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n          {selected && (\r\n            <PurchaseModal\r\n              stockInfo={stockInfo}\r\n              pastDay={pastDay}\r\n              setSelected={setSelected}\r\n              setPurchasedStocks={setPurchasedStocks}\r\n              purchasedStocks={purchasedStocks}\r\n            />\r\n          )}\r\n\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Search = ({ setPurchasedStocks, purchasedStocks }) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(null);\r\n  const [currentStock, setCurrentStock] = useState(null);\r\n\r\n  const onSearchChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    if (newValue) {\r\n      setCurrentStock(newValue);\r\n    } else {\r\n      setCurrentStock(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.addMargin}>\r\n      <Autocomplete\r\n        value={value}\r\n        onChange={onSearchChange}\r\n        filterOptions={(options, params) => {\r\n          let filtered = filter(options, params);\r\n          if (currentStock) {\r\n            filtered = filtered.slice(0, 4);\r\n          }\r\n          return filtered;\r\n        }}\r\n        selectOnFocus\r\n        clearOnBlur\r\n        handleHomeEndKeys\r\n        id=\"stock-search-bar\"\r\n        options={stocks}\r\n        getOptionLabel={(option) => {\r\n          return option.name;\r\n        }}\r\n        renderOption={(option) => option.name}\r\n        style={{\r\n          maxWidth: \"700px\",\r\n          margin: \"30px auto\",\r\n          marginBottom: \"60px\",\r\n        }}\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            label=\"Search for a stock\"\r\n            variant=\"outlined\"\r\n          />\r\n        )}\r\n      />\r\n      {currentStock && (\r\n        <StockCard\r\n          setPurchasedStocks={setPurchasedStocks}\r\n          purchasedStocks={purchasedStocks}\r\n          currentStock={currentStock}\r\n          \r\n        />\r\n      )}\r\n      <br />\r\n      <br />\r\n      <br />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst stocks = [\r\n  { name: \"Apple\", ticker: \"AAPL\" },\r\n  { name: \"Amazon\", ticker: \"AMZN\" },\r\n  { name: \"Google\", ticker: \"GOOG\" },\r\n  { name: \"Microsoft\", ticker: \"MSFT\" },\r\n  { name: \"Walmart\", ticker: \"WMT\" },\r\n  { name: \"Intel\", ticker: \"INTC\" },\r\n  { name: \"American Express\", ticker: \"AXP\" },\r\n  { name: \"Boeing\", ticker: \"BA\" },\r\n  { name: \"Cisco\", ticker: \"CSCO\" },\r\n  { name: \"Goldman Sachs\", ticker: \"GS\" },\r\n  { name: \"Johson & Johnson\", ticker: \"JNJ\" },\r\n  { name: \"Coca-Cola\", ticker: \"KO\" },\r\n  { name: \"McDonald's\", ticker: \"MCD\" },\r\n  { name: \"Nike\", ticker: \"NKE\" },\r\n  { name: \"Procter & Gamble\", ticker: \"PG\" },\r\n  { name: \"Verizon\", ticker: \"VZ\" },\r\n  { name: \"Salesforce\", ticker: \"CRM\" },\r\n  { name: \"Visa\", ticker: \"V\" },\r\n  { name: \"UnitedHealth\", ticker: \"UNH\" },\r\n  { name: \"IBM\", ticker: \"IBM\" },\r\n  { name: \"Chevron\", ticker: \"CVX\" },\r\n];\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}