{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ryan\\\\Documents\\\\GitHub\\\\PaperHands\\\\page\\\\client\\\\src\\\\components\\\\Search\\\\Search.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport UserContext from \"../../context/UserContext\";\nimport { TextField, Container, Grid, Box, Card } from \"@material-ui/core/\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport LineChart from \"../Template/LineChart\";\nimport BarChart from \"./BarChart\";\nimport Copyright from \"../Template/Copyright\";\nimport styles from \"./Search.module.css\";\nimport Axios from \"axios\";\nimport InfoCard from \"./InfoCard\";\nimport PriceCard from \"./PriceCard\";\nimport PurchaseCard from \"./PurchaseCard\";\nimport PurchaseModal from \"./PurchaseModal\";\nimport config from \"../../config/Config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst filter = createFilterOptions();\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    marginBottom: \"40px\"\n  }\n}));\n\nconst LineChartCard = _ref => {\n  let {\n    pastDataPeriod,\n    stockInfo,\n    duration\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    xs: 12,\n    sm: 7,\n    component: Card,\n    className: styles.card,\n    style: {\n      minHeight: \"350px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(LineChart, {\n      pastDataPeriod: pastDataPeriod,\n      stockInfo: stockInfo,\n      duration: duration\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_c = LineChartCard;\n\nconst BarChartCard = _ref2 => {\n  let {\n    sixMonthAverages,\n    stockInfo\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    xs: 12,\n    sm: true,\n    component: Card,\n    className: styles.card,\n    children: /*#__PURE__*/_jsxDEV(BarChart, {\n      sixMonthAverages: sixMonthAverages,\n      stockInfo: stockInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_c2 = BarChartCard;\n\nconst StockCard = _ref3 => {\n  _s();\n\n  let {\n    setPurchasedStocks,\n    purchasedStocks,\n    currentStock\n  } = _ref3;\n  const {\n    userData\n  } = useContext(UserContext);\n  const [selected, setSelected] = useState(false);\n  const [stockInfo, setStockInfo] = useState(undefined);\n  const [sixMonthAverages, setSixMonthAverages] = useState(undefined);\n  const [pastDay, setPastDay] = useState(undefined);\n  const [pastMonth, setPastMonth] = useState(undefined);\n  const [pastTwoYears, setPastTwoYears] = useState(undefined);\n  const [marketCap, setMarketCap] = useState(undefined);\n  useEffect(() => {\n    const getInfo = async () => {\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}`;\n      const response = await Axios.get(url);\n\n      if (response.data.status === \"success\") {\n        setStockInfo(response.data.data);\n      }\n    };\n\n    getInfo();\n\n    const getData = async () => {\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}/full`;\n      const response = await Axios.get(url);\n\n      if (response.data.status === \"success\") {\n        setSixMonthAverages(response.data.sixMonthAverages);\n        setPastDay(response.data.pastDay);\n        setPastMonth(response.data.pastMonth);\n        setPastTwoYears(response.data.pastTwoYears);\n      }\n    };\n\n    getData();\n\n    const getFunda = async () => {\n      const url = config.base_url + `/fundamentals/${currentStock.ticker}`;\n      const response = await Axios.get(url);\n\n      if (response.data.status === \"success\") {\n        setMarketCap(response.data.marketCap);\n      }\n    };\n\n    getFunda();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.root,\n    children: [stockInfo && pastDay && /*#__PURE__*/_jsxDEV(InfoCard, {\n      stockInfo: stockInfo,\n      price: pastDay.adjClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), sixMonthAverages && pastDay && pastMonth && pastTwoYears && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(LineChartCard, {\n          pastDataPeriod: pastTwoYears,\n          stockInfo: stockInfo,\n          duration: \"2 years\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(BarChartCard, {\n          sixMonthAverages: sixMonthAverages,\n          stockInfo: stockInfo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(PriceCard, {\n        pastDay: pastDay\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(PurchaseCard, {\n          setSelected: setSelected,\n          balance: userData.user.balance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(LineChartCard, {\n          pastDataPeriod: pastMonth,\n          stockInfo: stockInfo,\n          duration: \"month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        pt: 4,\n        children: /*#__PURE__*/_jsxDEV(Copyright, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this), selected && /*#__PURE__*/_jsxDEV(PurchaseModal, {\n        stockInfo: stockInfo,\n        pastDay: pastDay,\n        setSelected: setSelected,\n        setPurchasedStocks: setPurchasedStocks,\n        purchasedStocks: purchasedStocks\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 106,\n    columnNumber: 5\n  }, this);\n};\n\n_s(StockCard, \"x910xC+OoT55DfOMoT44YaN7l40=\");\n\n_c3 = StockCard;\n\nconst Search = _ref4 => {\n  _s2();\n\n  let {\n    setPurchasedStocks,\n    purchasedStocks\n  } = _ref4;\n  const classes = useStyles();\n  const [value, setValue] = useState(null);\n  const [currentStock, setCurrentStock] = useState(null);\n\n  const onSearchChange = (event, newValue) => {\n    setValue(newValue);\n\n    if (newValue) {\n      setCurrentStock(newValue);\n    } else {\n      setCurrentStock(null);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: classes.addMargin,\n    children: [/*#__PURE__*/_jsxDEV(Autocomplete, {\n      value: value,\n      onChange: onSearchChange,\n      filterOptions: (options, params) => {\n        let filtered = filter(options, params);\n\n        if (currentStock) {\n          filtered = filtered.slice(0, 4);\n        }\n\n        return filtered;\n      },\n      selectOnFocus: true,\n      clearOnBlur: true,\n      handleHomeEndKeys: true,\n      id: \"stock-search-bar\",\n      options: stocks,\n      getOptionLabel: option => {\n        return option.name;\n      },\n      renderOption: option => option.name,\n      style: {\n        maxWidth: \"700px\",\n        margin: \"30px auto\",\n        marginBottom: \"60px\"\n      },\n      renderInput: params => /*#__PURE__*/_jsxDEV(TextField, { ...params,\n        label: \"Search for a stock\",\n        variant: \"outlined\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }, this), currentStock && /*#__PURE__*/_jsxDEV(StockCard, {\n      setPurchasedStocks: setPurchasedStocks,\n      purchasedStocks: purchasedStocks,\n      currentStock: currentStock\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 171,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(Search, \"MhwSxEdRlWacP9pzuw6ZizdbaoU=\", false, function () {\n  return [useStyles];\n});\n\n_c4 = Search;\nconst stocks = [{\n  name: \"Apple\",\n  ticker: \"AAPL\"\n}, {\n  name: \"Amazon\",\n  ticker: \"AMZN\"\n}, {\n  name: \"Google\",\n  ticker: \"GOOG\"\n}, {\n  name: \"Microsoft\",\n  ticker: \"MSFT\"\n}, {\n  name: \"Walmart\",\n  ticker: \"WMT\"\n}, {\n  name: \"Intel\",\n  ticker: \"INTC\"\n}, {\n  name: \"American Express\",\n  ticker: \"AXP\"\n}, {\n  name: \"Boeing\",\n  ticker: \"BA\"\n}, {\n  name: \"Cisco\",\n  ticker: \"CSCO\"\n}, {\n  name: \"Goldman Sachs\",\n  ticker: \"GS\"\n}, {\n  name: \"Johson & Johnson\",\n  ticker: \"JNJ\"\n}, {\n  name: \"Coca-Cola\",\n  ticker: \"KO\"\n}, {\n  name: \"McDonald's\",\n  ticker: \"MCD\"\n}, {\n  name: \"Nike\",\n  ticker: \"NKE\"\n}, {\n  name: \"Procter & Gamble\",\n  ticker: \"PG\"\n}, {\n  name: \"Verizon\",\n  ticker: \"VZ\"\n}, {\n  name: \"Salesforce\",\n  ticker: \"CRM\"\n}, {\n  name: \"Visa\",\n  ticker: \"V\"\n}, {\n  name: \"UnitedHealth\",\n  ticker: \"UNH\"\n}, {\n  name: \"IBM\",\n  ticker: \"IBM\"\n}, {\n  name: \"Chevron\",\n  ticker: \"CVX\"\n}];\nexport default Search;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"LineChartCard\");\n$RefreshReg$(_c2, \"BarChartCard\");\n$RefreshReg$(_c3, \"StockCard\");\n$RefreshReg$(_c4, \"Search\");","map":{"version":3,"sources":["C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/src/components/Search/Search.jsx"],"names":["React","useState","useEffect","useContext","UserContext","TextField","Container","Grid","Box","Card","Autocomplete","createFilterOptions","makeStyles","LineChart","BarChart","Copyright","styles","Axios","InfoCard","PriceCard","PurchaseCard","PurchaseModal","config","filter","useStyles","theme","paper","padding","spacing","display","overflow","flexDirection","marginBottom","LineChartCard","pastDataPeriod","stockInfo","duration","card","minHeight","BarChartCard","sixMonthAverages","StockCard","setPurchasedStocks","purchasedStocks","currentStock","userData","selected","setSelected","setStockInfo","undefined","setSixMonthAverages","pastDay","setPastDay","pastMonth","setPastMonth","pastTwoYears","setPastTwoYears","marketCap","setMarketCap","getInfo","url","base_url","ticker","response","get","data","status","getData","getFunda","root","adjClose","user","balance","Search","classes","value","setValue","setCurrentStock","onSearchChange","event","newValue","addMargin","options","params","filtered","slice","stocks","option","name","maxWidth","margin"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAuD,OAAvD;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,IAA/B,EAAqCC,GAArC,EAA0CC,IAA1C,QAAsD,oBAAtD;AACA,OAAOC,YAAP,IACEC,mBADF,QAEO,+BAFP;AAGA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;AAEA,MAAMC,MAAM,GAAGZ,mBAAmB,EAAlC;AAEA,MAAMa,SAAS,GAAGZ,UAAU,CAAEa,KAAD,KAAY;AACvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADJ;AAELC,IAAAA,OAAO,EAAE,MAFJ;AAGLC,IAAAA,QAAQ,EAAE,MAHL;AAILC,IAAAA,aAAa,EAAE,QAJV;AAKLC,IAAAA,YAAY,EAAE;AALT;AADgC,CAAZ,CAAD,CAA5B;;AAUA,MAAMC,aAAa,GAAG,QAA6C;AAAA,MAA5C;AAAEC,IAAAA,cAAF;AAAkBC,IAAAA,SAAlB;AAA6BC,IAAAA;AAA7B,GAA4C;AACjE,sBACE,QAAC,IAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,EAAE,EAAE,EAFN;AAGE,IAAA,EAAE,EAAE,CAHN;AAIE,IAAA,SAAS,EAAE3B,IAJb;AAKE,IAAA,SAAS,EAAEO,MAAM,CAACqB,IALpB;AAME,IAAA,KAAK,EAAE;AAAEC,MAAAA,SAAS,EAAE;AAAb,KANT;AAAA,2BAQE,QAAC,SAAD;AACE,MAAA,cAAc,EAAEJ,cADlB;AAEE,MAAA,SAAS,EAAEC,SAFb;AAGE,MAAA,QAAQ,EAAEC;AAHZ;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,UADF;AAgBD,CAjBD;;KAAMH,a;;AAmBN,MAAMM,YAAY,GAAG,SAAqC;AAAA,MAApC;AAAEC,IAAAA,gBAAF;AAAoBL,IAAAA;AAApB,GAAoC;AACxD,sBACE,QAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAmB,IAAA,EAAE,MAArB;AAAsB,IAAA,SAAS,EAAE1B,IAAjC;AAAuC,IAAA,SAAS,EAAEO,MAAM,CAACqB,IAAzD;AAAA,2BACE,QAAC,QAAD;AAAU,MAAA,gBAAgB,EAAEG,gBAA5B;AAA8C,MAAA,SAAS,EAAEL;AAAzD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CAND;;MAAMI,Y;;AAQN,MAAME,SAAS,GAAG,SAA2D;AAAA;;AAAA,MAA1D;AAAEC,IAAAA,kBAAF;AAAsBC,IAAAA,eAAtB;AAAuCC,IAAAA;AAAvC,GAA0D;AAC3E,QAAM;AAAEC,IAAAA;AAAF,MAAe1C,UAAU,CAACC,WAAD,CAA/B;AACA,QAAM,CAAC0C,QAAD,EAAWC,WAAX,IAA0B9C,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACkC,SAAD,EAAYa,YAAZ,IAA4B/C,QAAQ,CAACgD,SAAD,CAA1C;AACA,QAAM,CAACT,gBAAD,EAAmBU,mBAAnB,IAA0CjD,QAAQ,CAACgD,SAAD,CAAxD;AACA,QAAM,CAACE,OAAD,EAAUC,UAAV,IAAwBnD,QAAQ,CAACgD,SAAD,CAAtC;AACA,QAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4BrD,QAAQ,CAACgD,SAAD,CAA1C;AACA,QAAM,CAACM,YAAD,EAAeC,eAAf,IAAkCvD,QAAQ,CAACgD,SAAD,CAAhD;AACA,QAAM,CAACQ,SAAD,EAAYC,YAAZ,IAA4BzD,QAAQ,CAACgD,SAAD,CAA1C;AAEA/C,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMyD,OAAO,GAAG,YAAY;AAC1B,YAAMC,GAAG,GAAGtC,MAAM,CAACuC,QAAP,GAAmB,oBAAmBjB,YAAY,CAACkB,MAAO,EAAtE;AACA,YAAMC,QAAQ,GAAG,MAAM9C,KAAK,CAAC+C,GAAN,CAAUJ,GAAV,CAAvB;;AACA,UAAIG,QAAQ,CAACE,IAAT,CAAcC,MAAd,KAAyB,SAA7B,EAAwC;AACtClB,QAAAA,YAAY,CAACe,QAAQ,CAACE,IAAT,CAAcA,IAAf,CAAZ;AACD;AACF,KAND;;AAQAN,IAAAA,OAAO;;AAEP,UAAMQ,OAAO,GAAG,YAAY;AAC1B,YAAMP,GAAG,GAAGtC,MAAM,CAACuC,QAAP,GAAmB,oBAAmBjB,YAAY,CAACkB,MAAO,OAAtE;AACA,YAAMC,QAAQ,GAAG,MAAM9C,KAAK,CAAC+C,GAAN,CAAUJ,GAAV,CAAvB;;AACA,UAAIG,QAAQ,CAACE,IAAT,CAAcC,MAAd,KAAyB,SAA7B,EAAwC;AACtChB,QAAAA,mBAAmB,CAACa,QAAQ,CAACE,IAAT,CAAczB,gBAAf,CAAnB;AACAY,QAAAA,UAAU,CAACW,QAAQ,CAACE,IAAT,CAAcd,OAAf,CAAV;AACAG,QAAAA,YAAY,CAACS,QAAQ,CAACE,IAAT,CAAcZ,SAAf,CAAZ;AACAG,QAAAA,eAAe,CAACO,QAAQ,CAACE,IAAT,CAAcV,YAAf,CAAf;AACD;AACF,KATD;;AAWAY,IAAAA,OAAO;;AAEP,UAAMC,QAAQ,GAAG,YAAY;AAC3B,YAAMR,GAAG,GAAGtC,MAAM,CAACuC,QAAP,GAAmB,iBAAgBjB,YAAY,CAACkB,MAAO,EAAnE;AACA,YAAMC,QAAQ,GAAG,MAAM9C,KAAK,CAAC+C,GAAN,CAAUJ,GAAV,CAAvB;;AACA,UAAIG,QAAQ,CAACE,IAAT,CAAcC,MAAd,KAAyB,SAA7B,EAAwC;AACtCR,QAAAA,YAAY,CAACK,QAAQ,CAACE,IAAT,CAAcR,SAAf,CAAZ;AACD;AACF,KAND;;AAQAW,IAAAA,QAAQ;AAGT,GAnCQ,EAmCN,EAnCM,CAAT;AAqCA,sBACE;AAAK,IAAA,SAAS,EAAEpD,MAAM,CAACqD,IAAvB;AAAA,eACGlC,SAAS,IAAIgB,OAAb,iBACC,QAAC,QAAD;AAAU,MAAA,SAAS,EAAEhB,SAArB;AAAgC,MAAA,KAAK,EAAEgB,OAAO,CAACmB;AAA/C;AAAA;AAAA;AAAA;AAAA,YAFJ,EAIG9B,gBAAgB,IAAIW,OAApB,IAA+BE,SAA/B,IAA4CE,YAA5C,iBACC;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAAA,gCACE,QAAC,aAAD;AACE,UAAA,cAAc,EAAEA,YADlB;AAEE,UAAA,SAAS,EAAEpB,SAFb;AAGE,UAAA,QAAQ,EAAE;AAHZ;AAAA;AAAA;AAAA;AAAA,gBADF,eAME,QAAC,YAAD;AACE,UAAA,gBAAgB,EAAEK,gBADpB;AAEE,UAAA,SAAS,EAAEL;AAFb;AAAA;AAAA;AAAA;AAAA,gBANF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAYE,QAAC,SAAD;AACE,QAAA,OAAO,EAAEgB;AADX;AAAA;AAAA;AAAA;AAAA,cAZF,eAgBE,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAgB,QAAA,OAAO,EAAE,CAAzB;AAAA,gCACE,QAAC,YAAD;AACE,UAAA,WAAW,EAAEJ,WADf;AAEE,UAAA,OAAO,EAAEF,QAAQ,CAAC0B,IAAT,CAAcC;AAFzB;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE,QAAC,aAAD;AACE,UAAA,cAAc,EAAEnB,SADlB;AAEE,UAAA,SAAS,EAAElB,SAFb;AAGE,UAAA,QAAQ,EAAE;AAHZ;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBF,eA2BE,QAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA,+BACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA3BF,EA8BGW,QAAQ,iBACP,QAAC,aAAD;AACE,QAAA,SAAS,EAAEX,SADb;AAEE,QAAA,OAAO,EAAEgB,OAFX;AAGE,QAAA,WAAW,EAAEJ,WAHf;AAIE,QAAA,kBAAkB,EAAEL,kBAJtB;AAKE,QAAA,eAAe,EAAEC;AALnB;AAAA;AAAA;AAAA;AAAA,cA/BJ;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiDD,CAhGD;;GAAMF,S;;MAAAA,S;;AAkGN,MAAMgC,MAAM,GAAG,SAA6C;AAAA;;AAAA,MAA5C;AAAE/B,IAAAA,kBAAF;AAAsBC,IAAAA;AAAtB,GAA4C;AAC1D,QAAM+B,OAAO,GAAGlD,SAAS,EAAzB;AACA,QAAM,CAACmD,KAAD,EAAQC,QAAR,IAAoB3E,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAAC2C,YAAD,EAAeiC,eAAf,IAAkC5E,QAAQ,CAAC,IAAD,CAAhD;;AAEA,QAAM6E,cAAc,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAC1CJ,IAAAA,QAAQ,CAACI,QAAD,CAAR;;AACA,QAAIA,QAAJ,EAAc;AACZH,MAAAA,eAAe,CAACG,QAAD,CAAf;AACD,KAFD,MAEO;AACLH,MAAAA,eAAe,CAAC,IAAD,CAAf;AACD;AACF,GAPD;;AASA,sBACE,QAAC,SAAD;AAAW,IAAA,SAAS,EAAEH,OAAO,CAACO,SAA9B;AAAA,4BACE,QAAC,YAAD;AACE,MAAA,KAAK,EAAEN,KADT;AAEE,MAAA,QAAQ,EAAEG,cAFZ;AAGE,MAAA,aAAa,EAAE,CAACI,OAAD,EAAUC,MAAV,KAAqB;AAClC,YAAIC,QAAQ,GAAG7D,MAAM,CAAC2D,OAAD,EAAUC,MAAV,CAArB;;AACA,YAAIvC,YAAJ,EAAkB;AAChBwC,UAAAA,QAAQ,GAAGA,QAAQ,CAACC,KAAT,CAAe,CAAf,EAAkB,CAAlB,CAAX;AACD;;AACD,eAAOD,QAAP;AACD,OATH;AAUE,MAAA,aAAa,MAVf;AAWE,MAAA,WAAW,MAXb;AAYE,MAAA,iBAAiB,MAZnB;AAaE,MAAA,EAAE,EAAC,kBAbL;AAcE,MAAA,OAAO,EAAEE,MAdX;AAeE,MAAA,cAAc,EAAGC,MAAD,IAAY;AAC1B,eAAOA,MAAM,CAACC,IAAd;AACD,OAjBH;AAkBE,MAAA,YAAY,EAAGD,MAAD,IAAYA,MAAM,CAACC,IAlBnC;AAmBE,MAAA,KAAK,EAAE;AACLC,QAAAA,QAAQ,EAAE,OADL;AAELC,QAAAA,MAAM,EAAE,WAFH;AAGL1D,QAAAA,YAAY,EAAE;AAHT,OAnBT;AAwBE,MAAA,WAAW,EAAGmD,MAAD,iBACX,QAAC,SAAD,OACMA,MADN;AAEE,QAAA,KAAK,EAAC,oBAFR;AAGE,QAAA,OAAO,EAAC;AAHV;AAAA;AAAA;AAAA;AAAA;AAzBJ;AAAA;AAAA;AAAA;AAAA,YADF,EAiCGvC,YAAY,iBACX,QAAC,SAAD;AACE,MAAA,kBAAkB,EAAEF,kBADtB;AAEE,MAAA,eAAe,EAAEC,eAFnB;AAGE,MAAA,YAAY,EAAEC;AAHhB;AAAA;AAAA;AAAA;AAAA,YAlCJ,eAwCE;AAAA;AAAA;AAAA;AAAA,YAxCF,eAyCE;AAAA;AAAA;AAAA;AAAA,YAzCF,eA0CE;AAAA;AAAA;AAAA;AAAA,YA1CF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA8CD,CA5DD;;IAAM6B,M;UACYjD,S;;;MADZiD,M;AA8DN,MAAMa,MAAM,GAAG,CACb;AAAEE,EAAAA,IAAI,EAAE,OAAR;AAAiB1B,EAAAA,MAAM,EAAE;AAAzB,CADa,EAEb;AAAE0B,EAAAA,IAAI,EAAE,QAAR;AAAkB1B,EAAAA,MAAM,EAAE;AAA1B,CAFa,EAGb;AAAE0B,EAAAA,IAAI,EAAE,QAAR;AAAkB1B,EAAAA,MAAM,EAAE;AAA1B,CAHa,EAIb;AAAE0B,EAAAA,IAAI,EAAE,WAAR;AAAqB1B,EAAAA,MAAM,EAAE;AAA7B,CAJa,EAKb;AAAE0B,EAAAA,IAAI,EAAE,SAAR;AAAmB1B,EAAAA,MAAM,EAAE;AAA3B,CALa,EAMb;AAAE0B,EAAAA,IAAI,EAAE,OAAR;AAAiB1B,EAAAA,MAAM,EAAE;AAAzB,CANa,EAOb;AAAE0B,EAAAA,IAAI,EAAE,kBAAR;AAA4B1B,EAAAA,MAAM,EAAE;AAApC,CAPa,EAQb;AAAE0B,EAAAA,IAAI,EAAE,QAAR;AAAkB1B,EAAAA,MAAM,EAAE;AAA1B,CARa,EASb;AAAE0B,EAAAA,IAAI,EAAE,OAAR;AAAiB1B,EAAAA,MAAM,EAAE;AAAzB,CATa,EAUb;AAAE0B,EAAAA,IAAI,EAAE,eAAR;AAAyB1B,EAAAA,MAAM,EAAE;AAAjC,CAVa,EAWb;AAAE0B,EAAAA,IAAI,EAAE,kBAAR;AAA4B1B,EAAAA,MAAM,EAAE;AAApC,CAXa,EAYb;AAAE0B,EAAAA,IAAI,EAAE,WAAR;AAAqB1B,EAAAA,MAAM,EAAE;AAA7B,CAZa,EAab;AAAE0B,EAAAA,IAAI,EAAE,YAAR;AAAsB1B,EAAAA,MAAM,EAAE;AAA9B,CAba,EAcb;AAAE0B,EAAAA,IAAI,EAAE,MAAR;AAAgB1B,EAAAA,MAAM,EAAE;AAAxB,CAda,EAeb;AAAE0B,EAAAA,IAAI,EAAE,kBAAR;AAA4B1B,EAAAA,MAAM,EAAE;AAApC,CAfa,EAgBb;AAAE0B,EAAAA,IAAI,EAAE,SAAR;AAAmB1B,EAAAA,MAAM,EAAE;AAA3B,CAhBa,EAiBb;AAAE0B,EAAAA,IAAI,EAAE,YAAR;AAAsB1B,EAAAA,MAAM,EAAE;AAA9B,CAjBa,EAkBb;AAAE0B,EAAAA,IAAI,EAAE,MAAR;AAAgB1B,EAAAA,MAAM,EAAE;AAAxB,CAlBa,EAmBb;AAAE0B,EAAAA,IAAI,EAAE,cAAR;AAAwB1B,EAAAA,MAAM,EAAE;AAAhC,CAnBa,EAoBb;AAAE0B,EAAAA,IAAI,EAAE,KAAR;AAAe1B,EAAAA,MAAM,EAAE;AAAvB,CApBa,EAqBb;AAAE0B,EAAAA,IAAI,EAAE,SAAR;AAAmB1B,EAAAA,MAAM,EAAE;AAA3B,CArBa,CAAf;AAwBA,eAAeW,MAAf","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport { TextField, Container, Grid, Box, Card } from \"@material-ui/core/\";\r\nimport Autocomplete, {\r\n  createFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport LineChart from \"../Template/LineChart\";\r\nimport BarChart from \"./BarChart\";\r\nimport Copyright from \"../Template/Copyright\";\r\nimport styles from \"./Search.module.css\";\r\nimport Axios from \"axios\";\r\nimport InfoCard from \"./InfoCard\";\r\nimport PriceCard from \"./PriceCard\";\r\nimport PurchaseCard from \"./PurchaseCard\";\r\nimport PurchaseModal from \"./PurchaseModal\";\r\nimport config from \"../../config/Config\";\r\n\r\nconst filter = createFilterOptions();\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    marginBottom: \"40px\",\r\n  },\r\n}));\r\n\r\nconst LineChartCard = ({ pastDataPeriod, stockInfo, duration }) => {\r\n  return (\r\n    <Grid\r\n      item\r\n      xs={12}\r\n      sm={7}\r\n      component={Card}\r\n      className={styles.card}\r\n      style={{ minHeight: \"350px\" }}\r\n    >\r\n      <LineChart\r\n        pastDataPeriod={pastDataPeriod}\r\n        stockInfo={stockInfo}\r\n        duration={duration}\r\n      />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst BarChartCard = ({ sixMonthAverages, stockInfo }) => {\r\n  return (\r\n    <Grid item xs={12} sm component={Card} className={styles.card}>\r\n      <BarChart sixMonthAverages={sixMonthAverages} stockInfo={stockInfo} />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst StockCard = ({ setPurchasedStocks, purchasedStocks, currentStock }) => {\r\n  const { userData } = useContext(UserContext);\r\n  const [selected, setSelected] = useState(false);\r\n  const [stockInfo, setStockInfo] = useState(undefined);\r\n  const [sixMonthAverages, setSixMonthAverages] = useState(undefined);\r\n  const [pastDay, setPastDay] = useState(undefined);\r\n  const [pastMonth, setPastMonth] = useState(undefined);\r\n  const [pastTwoYears, setPastTwoYears] = useState(undefined);\r\n  const [marketCap, setMarketCap] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    const getInfo = async () => {\r\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}`;\r\n      const response = await Axios.get(url);\r\n      if (response.data.status === \"success\") {\r\n        setStockInfo(response.data.data);\r\n      }\r\n    };\r\n\r\n    getInfo();\r\n\r\n    const getData = async () => {\r\n      const url = config.base_url + `/api/data/prices/${currentStock.ticker}/full`;\r\n      const response = await Axios.get(url);\r\n      if (response.data.status === \"success\") {\r\n        setSixMonthAverages(response.data.sixMonthAverages);\r\n        setPastDay(response.data.pastDay);\r\n        setPastMonth(response.data.pastMonth);\r\n        setPastTwoYears(response.data.pastTwoYears);\r\n      }\r\n    };\r\n\r\n    getData();\r\n\r\n    const getFunda = async () => {\r\n      const url = config.base_url + `/fundamentals/${currentStock.ticker}`;\r\n      const response = await Axios.get(url);\r\n      if (response.data.status === \"success\") {\r\n        setMarketCap(response.data.marketCap);\r\n      }\r\n    };\r\n\r\n    getFunda();\r\n\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <div className={styles.root}>\r\n      {stockInfo && pastDay && (\r\n        <InfoCard stockInfo={stockInfo} price={pastDay.adjClose} />\r\n      )}\r\n      {sixMonthAverages && pastDay && pastMonth && pastTwoYears && (\r\n        <div>\r\n          <Grid container spacing={3}>\r\n            <LineChartCard\r\n              pastDataPeriod={pastTwoYears}\r\n              stockInfo={stockInfo}\r\n              duration={\"2 years\"}\r\n            />\r\n            <BarChartCard\r\n              sixMonthAverages={sixMonthAverages}\r\n              stockInfo={stockInfo}\r\n            />\r\n          </Grid>\r\n          <PriceCard \r\n            pastDay={pastDay}\r\n         \r\n           />\r\n          <Grid container spacing={3}>\r\n            <PurchaseCard\r\n              setSelected={setSelected}\r\n              balance={userData.user.balance}\r\n            />\r\n            <LineChartCard\r\n              pastDataPeriod={pastMonth}\r\n              stockInfo={stockInfo}\r\n              duration={\"month\"}\r\n            />\r\n          </Grid>\r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n          {selected && (\r\n            <PurchaseModal\r\n              stockInfo={stockInfo}\r\n              pastDay={pastDay}\r\n              setSelected={setSelected}\r\n              setPurchasedStocks={setPurchasedStocks}\r\n              purchasedStocks={purchasedStocks}\r\n            />\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Search = ({ setPurchasedStocks, purchasedStocks }) => {\r\n  const classes = useStyles();\r\n  const [value, setValue] = useState(null);\r\n  const [currentStock, setCurrentStock] = useState(null);\r\n\r\n  const onSearchChange = (event, newValue) => {\r\n    setValue(newValue);\r\n    if (newValue) {\r\n      setCurrentStock(newValue);\r\n    } else {\r\n      setCurrentStock(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.addMargin}>\r\n      <Autocomplete\r\n        value={value}\r\n        onChange={onSearchChange}\r\n        filterOptions={(options, params) => {\r\n          let filtered = filter(options, params);\r\n          if (currentStock) {\r\n            filtered = filtered.slice(0, 4);\r\n          }\r\n          return filtered;\r\n        }}\r\n        selectOnFocus\r\n        clearOnBlur\r\n        handleHomeEndKeys\r\n        id=\"stock-search-bar\"\r\n        options={stocks}\r\n        getOptionLabel={(option) => {\r\n          return option.name;\r\n        }}\r\n        renderOption={(option) => option.name}\r\n        style={{\r\n          maxWidth: \"700px\",\r\n          margin: \"30px auto\",\r\n          marginBottom: \"60px\",\r\n        }}\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            label=\"Search for a stock\"\r\n            variant=\"outlined\"\r\n          />\r\n        )}\r\n      />\r\n      {currentStock && (\r\n        <StockCard\r\n          setPurchasedStocks={setPurchasedStocks}\r\n          purchasedStocks={purchasedStocks}\r\n          currentStock={currentStock}\r\n        />\r\n      )}\r\n      <br />\r\n      <br />\r\n      <br />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst stocks = [\r\n  { name: \"Apple\", ticker: \"AAPL\" },\r\n  { name: \"Amazon\", ticker: \"AMZN\" },\r\n  { name: \"Google\", ticker: \"GOOG\" },\r\n  { name: \"Microsoft\", ticker: \"MSFT\" },\r\n  { name: \"Walmart\", ticker: \"WMT\" },\r\n  { name: \"Intel\", ticker: \"INTC\" },\r\n  { name: \"American Express\", ticker: \"AXP\" },\r\n  { name: \"Boeing\", ticker: \"BA\" },\r\n  { name: \"Cisco\", ticker: \"CSCO\" },\r\n  { name: \"Goldman Sachs\", ticker: \"GS\" },\r\n  { name: \"Johson & Johnson\", ticker: \"JNJ\" },\r\n  { name: \"Coca-Cola\", ticker: \"KO\" },\r\n  { name: \"McDonald's\", ticker: \"MCD\" },\r\n  { name: \"Nike\", ticker: \"NKE\" },\r\n  { name: \"Procter & Gamble\", ticker: \"PG\" },\r\n  { name: \"Verizon\", ticker: \"VZ\" },\r\n  { name: \"Salesforce\", ticker: \"CRM\" },\r\n  { name: \"Visa\", ticker: \"V\" },\r\n  { name: \"UnitedHealth\", ticker: \"UNH\" },\r\n  { name: \"IBM\", ticker: \"IBM\" },\r\n  { name: \"Chevron\", ticker: \"CVX\" },\r\n];\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}