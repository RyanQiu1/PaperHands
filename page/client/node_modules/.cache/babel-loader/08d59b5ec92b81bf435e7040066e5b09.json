{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Ryan\\\\Documents\\\\GitHub\\\\PaperHands\\\\page\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useContext}from\"react\";import UserContext from\"../../context/UserContext\";import styles from\"./PageTemplate.module.css\";import{Typography,IconButton,Box,Button,TextField,Container,Grid,Card,CardHeader,CardContent}from\"@material-ui/core\";import{motion}from\"framer-motion\";import CloseIcon from\"@material-ui/icons/Close\";import Axios from\"axios\";import config from\"../../config/Config\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SettingsModal=function SettingsModal(_ref){var setSettingsOpen=_ref.setSettingsOpen;return/*#__PURE__*/_jsx(motion.div,{className:styles.backdrop,initial:{opacity:0},animate:{opacity:1},id:\"backdrop\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(motion.div,{animate:{opacity:1,y:-20},children:/*#__PURE__*/_jsx(SettingsModalContent,{setSettingsOpen:setSettingsOpen})})})});};var SettingsModalContent=function SettingsModalContent(_ref2){var setSettingsOpen=_ref2.setSettingsOpen;var _useContext=useContext(UserContext),userData=_useContext.userData,setUserData=_useContext.setUserData;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),activateSafetyButton=_useState2[0],setActiveSafetyButton=_useState2[1];var handleClick=function handleClick(){setSettingsOpen(false);};var handleResetOn=function handleResetOn(){setActiveSafetyButton(true);};var handleResetOff=function handleResetOff(){setActiveSafetyButton(false);};var resetAccount=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var headers,url,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();headers={\"x-auth-token\":userData.token};url=config.base_url+\"/api/stock/\".concat(userData.user.id);_context.next=5;return Axios.delete(url,{headers:headers});case 5:response=_context.sent;if(response.data.status===\"success\"){setUserData({token:userData.token,user:response.data.user});window.location.reload();}case 7:case\"end\":return _context.stop();}}},_callee);}));return function resetAccount(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Grid,{container:true,spacing:0,direction:\"column\",alignItems:\"center\",justify:\"center\",style:{minHeight:\"100vh\"},children:/*#__PURE__*/_jsx(Box,{width:\"60vh\",boxShadow:1,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{action:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"Close\",onClick:handleClick,children:/*#__PURE__*/_jsx(CloseIcon,{})})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h6\",align:\"center\",children:\"Account Settings\"}),/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:function onSubmit(e){return e.preventDefault();},children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,disabled:true,id:\"Username\",label:\"Username\",name:\"Username\",autoComplete:\"Username\",value:userData.user.username}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,disabled:true,id:\"balance\",label:\"Cash Balance\",name:\"balance\",autoComplete:\"balance\",value:userData.user.balance})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:styles.reset,onClick:handleResetOn,children:\"Reset My Account\"})}),activateSafetyButton&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{component:\"p\",variant:\"caption\",align:\"center\",children:\"This is a permanent change. If you are sure press Reset.\"}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"center\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:styles.reset,onClick:resetAccount,children:\"Reset\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:styles.confirm,onClick:handleResetOff,children:\"Cancel\"})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]})]})})});};export default SettingsModal;","map":{"version":3,"sources":["C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/src/components/Template/SettingsModal.jsx"],"names":["React","useState","useContext","UserContext","styles","Typography","IconButton","Box","Button","TextField","Container","Grid","Card","CardHeader","CardContent","motion","CloseIcon","Axios","config","SettingsModal","setSettingsOpen","backdrop","opacity","y","SettingsModalContent","userData","setUserData","activateSafetyButton","setActiveSafetyButton","handleClick","handleResetOn","handleResetOff","resetAccount","e","preventDefault","headers","token","url","base_url","user","id","delete","response","data","status","window","location","reload","minHeight","form","username","balance","reset","confirm"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport UserContext from \"../../context/UserContext\";\r\nimport styles from \"./PageTemplate.module.css\";\r\nimport {\r\n  Typography,\r\n  IconButton,\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  Container,\r\n  Grid,\r\n  Card,\r\n  CardHeader,\r\n  CardContent,\r\n} from \"@material-ui/core\";\r\nimport { motion } from \"framer-motion\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Axios from \"axios\";\r\nimport config from \"../../config/Config\";\r\n\r\nconst SettingsModal = ({ setSettingsOpen }) => {\r\n  return (\r\n    <motion.div\r\n      className={styles.backdrop}\r\n      initial={{ opacity: 0 }}\r\n      animate={{ opacity: 1 }}\r\n      id=\"backdrop\"\r\n    >\r\n      <Container>\r\n        <motion.div animate={{ opacity: 1, y: -20 }}>\r\n          <SettingsModalContent setSettingsOpen={setSettingsOpen} />\r\n        </motion.div>\r\n      </Container>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nconst SettingsModalContent = ({ setSettingsOpen }) => {\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const [activateSafetyButton, setActiveSafetyButton] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setSettingsOpen(false);\r\n  };\r\n\r\n  const handleResetOn = () => {\r\n    setActiveSafetyButton(true);\r\n  };\r\n\r\n  const handleResetOff = () => {\r\n    setActiveSafetyButton(false);\r\n  };\r\n\r\n  const resetAccount = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const headers = {\r\n      \"x-auth-token\": userData.token,\r\n    };\r\n\r\n    const url = config.base_url + `/api/stock/${userData.user.id}`;\r\n    const response = await Axios.delete(url, {\r\n      headers,\r\n    });\r\n\r\n    if (response.data.status === \"success\") {\r\n      setUserData({\r\n        token: userData.token,\r\n        user: response.data.user,\r\n      });\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Grid\r\n      container\r\n      spacing={0}\r\n      direction=\"column\"\r\n      alignItems=\"center\"\r\n      justify=\"center\"\r\n      style={{ minHeight: \"100vh\" }}\r\n    >\r\n      <Box width=\"60vh\" boxShadow={1}>\r\n        <Card>\r\n          <CardHeader\r\n            action={\r\n              <IconButton aria-label=\"Close\" onClick={handleClick}>\r\n                <CloseIcon />\r\n              </IconButton>\r\n            }\r\n          />\r\n          <CardContent>\r\n            <Typography component=\"h1\" variant=\"h6\" align=\"center\">\r\n              Account Settings\r\n            </Typography>\r\n            <form className={styles.form} onSubmit={(e) => e.preventDefault()}>\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                disabled\r\n                id=\"Username\"\r\n                label=\"Username\"\r\n                name=\"Username\"\r\n                autoComplete=\"Username\"\r\n                value={userData.user.username}\r\n              />\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                disabled\r\n                id=\"balance\"\r\n                label=\"Cash Balance\"\r\n                name=\"balance\"\r\n                autoComplete=\"balance\"\r\n                value={userData.user.balance}\r\n              />\r\n            </form>\r\n            <br />\r\n            <Box display=\"flex\" justifyContent=\"center\">\r\n              <Button\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={styles.reset}\r\n                onClick={handleResetOn}\r\n              >\r\n                Reset My Account\r\n              </Button>\r\n            </Box>\r\n            {activateSafetyButton && (\r\n              <div>\r\n                <Typography component=\"p\" variant=\"caption\" align=\"center\">\r\n                  This is a permanent change. If you are sure press Reset.\r\n                </Typography>\r\n                <Box display=\"flex\" justifyContent=\"center\">\r\n                  <Button\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={styles.reset}\r\n                    onClick={resetAccount}\r\n                  >\r\n                    Reset\r\n                  </Button>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    className={styles.confirm}\r\n                    onClick={handleResetOff}\r\n                  >\r\n                    Cancel\r\n                  </Button>\r\n                </Box>\r\n              </div>\r\n            )}\r\n\r\n            <br />\r\n            <br />\r\n          </CardContent>\r\n        </Card>\r\n      </Box>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default SettingsModal;\r\n"]},"metadata":{},"sourceType":"module"}