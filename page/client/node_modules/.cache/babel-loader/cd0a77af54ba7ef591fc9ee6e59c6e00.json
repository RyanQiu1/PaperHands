{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Ryan\\\\Documents\\\\GitHub\\\\PaperHands\\\\page\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState}from\"react\";import{Box,Typography,TextField,CssBaseline,Button,Card,CardContent,Grid,Link}from\"@material-ui/core\";import{useNavigate}from\"react-router-dom\";import Axios from\"axios\";import config from\"../../config/Config\";import styles from\"./Auth.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),usernameError=_useState4[0],setUsernameError=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordError=_useState8[0],setPasswordError=_useState8[1];var onChangeUsername=function onChangeUsername(e){var newUsername=e.target.value;setUsername(newUsername);if(newUsername.length<4||newUsername.length>15){setUsernameError(\"Username must be between 4 and 15 characters.\");}else{setUsernameError(\"\");}};var onChangePassword=function onChangePassword(e){var newPassword=e.target.value;setPassword(newPassword);if(newPassword.length<6||newPassword.length>20){setPasswordError(\"Password must be between 6 and 20 characters.\");}else{setPasswordError(\"\");}};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var newUser,url,registerRes;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(!usernameError&&!passwordError)){_context.next=8;break;}newUser={username:username,password:password};url=config.base_url+\"/api/auth/register\";_context.next=6;return Axios.post(url,newUser);case 6:registerRes=_context.sent;if(registerRes.data.status===\"fail\"){if(!registerRes.data.type){setPasswordError(registerRes.data.message);setUsernameError(registerRes.data.message);}else if(registerRes.data.type===\"username\"){setUsernameError(registerRes.data.message);}else if(registerRes.data.type===\"password\"){setPasswordError(registerRes.data.message);}}else{navigate(\"/login\");}case 8:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.background,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:0,direction:\"column\",alignItems:\"center\",justify:\"center\",style:{minHeight:\"100vh\"},children:/*#__PURE__*/_jsx(Box,{width:\"70vh\",boxShadow:1,children:/*#__PURE__*/_jsx(Card,{className:styles.paper,children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",autoComplete:\"username\",error:usernameError.length>0?true:false,helperText:usernameError,value:username,onChange:onChangeUsername}),/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",error:passwordError.length>0?true:false,helperText:passwordError,value:password,onChange:onChangePassword}),/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",className:styles.submit,children:\"Register\"})})]}),/*#__PURE__*/_jsx(Grid,{container:true,justify:\"center\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/login\",variant:\"body2\",children:\"Already have an account?\"})})})]})})})})]});};export default Register;","map":{"version":3,"sources":["C:/Users/Ryan/Documents/GitHub/PaperHands/page/client/src/components/Authentication/Register.jsx"],"names":["React","useState","Box","Typography","TextField","CssBaseline","Button","Card","CardContent","Grid","Link","useNavigate","Axios","config","styles","Register","navigate","username","setUsername","usernameError","setUsernameError","password","setPassword","passwordError","setPasswordError","onChangeUsername","e","newUsername","target","value","length","onChangePassword","newPassword","onSubmit","preventDefault","newUser","url","base_url","post","registerRes","data","status","type","message","background","minHeight","paper","form","submit"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Box,\n  Typography,\n  TextField,\n  CssBaseline,\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  Link,\n} from \"@material-ui/core\";\nimport { useNavigate } from \"react-router-dom\";\nimport Axios from \"axios\";\nimport config from \"../../config/Config\";\nimport styles from \"./Auth.module.css\";\n\nconst Register = () => {\n  const navigate = useNavigate();\n\n  const [username, setUsername] = useState(\"\");\n  const [usernameError, setUsernameError] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n\n  const onChangeUsername = (e) => {\n    const newUsername = e.target.value;\n    setUsername(newUsername);\n\n    if (newUsername.length < 4 || newUsername.length > 15) {\n      setUsernameError(\"Username must be between 4 and 15 characters.\");\n    } else {\n      setUsernameError(\"\");\n    }\n  };\n\n  const onChangePassword = (e) => {\n    const newPassword = e.target.value;\n    setPassword(newPassword);\n\n    if (newPassword.length < 6 || newPassword.length > 20) {\n      setPasswordError(\"Password must be between 6 and 20 characters.\");\n    } else {\n      setPasswordError(\"\");\n    }\n  };\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    if (!usernameError && !passwordError) {\n      const newUser = { username, password };\n      const url = config.base_url + \"/api/auth/register\";\n      const registerRes = await Axios.post(url, newUser);\n\n      if (registerRes.data.status === \"fail\") {\n        if (!registerRes.data.type) {\n          setPasswordError(registerRes.data.message);\n          setUsernameError(registerRes.data.message);\n        } else if (registerRes.data.type === \"username\") {\n          setUsernameError(registerRes.data.message);\n        } else if (registerRes.data.type === \"password\") {\n          setPasswordError(registerRes.data.message);\n        }\n      } else {\n        navigate(\"/login\");\n      }\n    }\n  };\n\n  return (\n    <div className={styles.background}>\n      <CssBaseline />\n      <Grid\n        container\n        spacing={0}\n        direction=\"column\"\n        alignItems=\"center\"\n        justify=\"center\"\n        style={{ minHeight: \"100vh\" }}\n      >\n        <Box width=\"70vh\" boxShadow={1}>\n          <Card className={styles.paper}>\n            <CardContent>\n              <Typography component=\"h1\" variant=\"h5\">\n                Register\n              </Typography>\n              <form className={styles.form} onSubmit={onSubmit}>\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  id=\"username\"\n                  label=\"Username\"\n                  name=\"username\"\n                  autoComplete=\"username\"\n                  error={usernameError.length > 0 ? true : false}\n                  helperText={usernameError}\n                  value={username}\n                  onChange={onChangeUsername}\n                />\n                <TextField\n                  variant=\"outlined\"\n                  margin=\"normal\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  error={passwordError.length > 0 ? true : false}\n                  helperText={passwordError}\n                  value={password}\n                  onChange={onChangePassword}\n                />\n                <Box display=\"flex\" justifyContent=\"center\">\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={styles.submit}\n                  >\n                    Register\n                  </Button>\n                </Box>\n              </form>\n              <Grid container justify=\"center\">\n                <Grid item>\n                  <Link href=\"/login\" variant=\"body2\">\n                    Already have an account?\n                  </Link>\n                </Grid>\n              </Grid>\n            </CardContent>\n          </Card>\n        </Box>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}